<template>
  <div>
    <!--====== PAGE BANNER PART START ======-->
    <section
      id="page-banner"
      class="pt-105 pb-110 bg_cover"
      data-overlay="8"
      style="background-image: url(images/page-banner-3.jpg)"
    >
      <div class="container">
        <div class="row">
          <div class="col-lg-2">
            <div class="page-banner-cont">
              <h2>Events</h2>
            </div>
            <!-- page banner cont -->
          </div>
          <div class="col-lg-10">
            <div class="search-box search">
              <div class="serach-form">
                <form action="#">
                  <input class="search" type="text" placeholder="Search by keyword">
                  <button>
                    <i class="fa fa-search"></i>
                  </button>
                </form>
              </div>
              <!-- serach form -->
            </div>
            <!-- page banner cont -->
          </div>
        </div>
        <!-- row -->
      </div>
      <!-- container -->
    </section>
    <!--====== PAGE BANNER PART ENDS ======-->
    <!--====== EVENTS PART START ======-->
    <section id="event-page" class="pt-90 pb-120 gray-bg">
      <div class="container">
        <div class="row">
          <div class="col-lg-6">
            <div class="singel-event-list mt-30">
              <div class="event4-thum">
                <img :src="`${baseUrl}/images/event/e-1.jpg`" alt="Event">
              </div>
              <div class="event-cont">
                <span>
                  <i class="fa fa-calendar"></i> 2 December 2018
                </span>
                <a href="events-singel.html">
                  <h4>Tech Summit</h4>
                </a>
                <span>
                  <i class="fa fa-clock-o"></i> 10:00 Am - 3:00 Pm
                </span>
                <span>
                  <i class="fa fa-map-marker"></i> Rc Auditorim
                </span>
                <p>Nam nec tellus a odio tincidunt auctor a ornare odionon mauris itae erat conuat</p>
              </div>
            </div>
          </div>
          <div class="col-lg-6">
            <div class="singel-event-list mt-30">
              <div class="event4-thum">
                <img :src="`${baseUrl}/images/event/e-2.jpg`" alt="Event">
              </div>
              <div class="event-cont">
                <span>
                  <i class="fa fa-calendar"></i> 2 December 2018
                </span>
                <a href="events-singel.html">
                  <h4>Tech Summit</h4>
                </a>
                <span>
                  <i class="fa fa-clock-o"></i> 10:00 Am - 3:00 Pm
                </span>
                <span>
                  <i class="fa fa-map-marker"></i> Rc Auditorim
                </span>
                <p>Nam nec tellus a odio tincidunt auctor a ornare odionon mauris itae erat conuat</p>
              </div>
            </div>
          </div>
          <div class="col-lg-6">
            <div class="singel-event-list mt-30">
              <div class="event4-thum">
                <img :src="`${baseUrl}/images/event/e-3.jpg`" alt="Event">
              </div>
              <div class="event-cont">
                <span>
                  <i class="fa fa-calendar"></i> 2 December 2018
                </span>
                <a href="events-singel.html">
                  <h4>Tech Summit</h4>
                </a>
                <span>
                  <i class="fa fa-clock-o"></i> 10:00 Am - 3:00 Pm
                </span>
                <span>
                  <i class="fa fa-map-marker"></i> Rc Auditorim
                </span>
                <p>Nam nec tellus a odio tincidunt auctor a ornare odionon mauris itae erat conuat</p>
              </div>
            </div>
          </div>
          <div class="col-lg-6">
            <div class="singel-event-list mt-30">
              <div class="event4-thum">
                <img :src="`${baseUrl}/images/event/e-4.jpg`" alt="Event">
              </div>
              <div class="event-cont">
                <span>
                  <i class="fa fa-calendar"></i> 2 December 2018
                </span>
                <a href="events-singel.html">
                  <h4>Tech Summit</h4>
                </a>
                <span>
                  <i class="fa fa-clock-o"></i> 10:00 Am - 3:00 Pm
                </span>
                <span>
                  <i class="fa fa-map-marker"></i> Rc Auditorim
                </span>
                <p>Nam nec tellus a odio tincidunt auctor a ornare odionon mauris itae erat conuat</p>
              </div>
            </div>
          </div>
          <div class="col-lg-6">
            <div class="singel-event-list mt-30">
              <div class="event4-thum">
                <img :src="`${baseUrl}/images/event/e-1.jpg`" alt="Event">
              </div>
              <div class="event-cont">
                <span>
                  <i class="fa fa-calendar"></i> 2 December 2018
                </span>
                <a href="events-singel.html">
                  <h4>Tech Summit</h4>
                </a>
                <span>
                  <i class="fa fa-clock-o"></i> 10:00 Am - 3:00 Pm
                </span>
                <span>
                  <i class="fa fa-map-marker"></i> Rc Auditorim
                </span>
                <p>Nam nec tellus a odio tincidunt auctor a ornare odionon mauris itae erat conuat</p>
              </div>
            </div>
          </div>
          <div class="col-lg-6">
            <div class="singel-event-list mt-30">
              <div class="event4-thum">
                <img :src="`${baseUrl}/images/event/e-2.jpg`" alt="Event">
              </div>
              <div class="event-cont">
                <span>
                  <i class="fa fa-calendar"></i> 2 December 2018
                </span>
                <a href="events-singel.html">
                  <h4>Tech Summit</h4>
                </a>
                <span>
                  <i class="fa fa-clock-o"></i> 10:00 Am - 3:00 Pm
                </span>
                <span>
                  <i class="fa fa-map-marker"></i> Rc Auditorim
                </span>
                <p>Nam nec tellus a odio tincidunt auctor a ornare odionon mauris itae erat conuat</p>
              </div>
            </div>
          </div>
        </div>
        <!-- row -->
        <div class="row">
          <div class="col-lg-12">
            <nav class="courses-pagination mt-50">
              <ul class="pagination justify-content-center">
                <li class="page-item">
                  <a href="#" aria-label="Previous">
                    <i class="fa fa-angle-left"></i>
                  </a>
                </li>
                <li class="page-item">
                  <a class="active" href="#">1</a>
                </li>
                <li class="page-item">
                  <a href="#">2</a>
                </li>
                <li class="page-item">
                  <a href="#">3</a>
                </li>
                <li class="page-item">
                  <a href="#" aria-label="Next">
                    <i class="fa fa-angle-right"></i>
                  </a>
                </li>
              </ul>
            </nav>
            <!-- courses pagination -->
          </div>
        </div>
        <!-- row -->
      </div>
      <!-- container -->
    </section>
    <!--====== EVENTS PART ENDS ======-->

    <div class="page-header">
      <div class="container">
        <h2 class="header-title">What We did</h2>
        <PostsSearchForm v-model="query" @onSearchEnter="getItems('click')"/>
      </div>
    </div>
    <section class="section">
      <div class="container">
        <div class="page-blog fire-spinner-covered">
          <div class="fire-spinner" v-if="shouldLoading(type)"></div>
          <div class="columns is-multiline">
            <div class="column is-8">
              <div class="columns is-multiline">
                <div
                  class="column is-6"
                  v-for="(activity, idx) in postsData.activities.posts.data"
                  :key="idx"
                >
                  <div class="card card-jaol">
                    <div class="card-image" @click="getDetail('activity', activity)">
                      <figure class="image is-4by3">
                        <img :src="`${baseUrl}${activity.image}`" :alt="activity.image">
                      </figure>
                    </div>
                    <div class="card-content">
                      <div class="media">
                        <div class="media-left user-icon">
                          <figure class="image is-32x32">
                            <img :src="`${baseUrl}${activity.author_image}`" :alt="activity.author">
                          </figure>
                        </div>
                        <div class="media-content">
                          <p class="s-title is-6 is-small">{{activity.author}}</p>
                        </div>
                      </div>
                      <a @click="getDetail('activity', activity)">
                        <p class="s-title is-12">{{activity.title}}</p>
                      </a>
                      <div class="content description">
                        <div v-html="$utils.sub($utils.strip(activity.description), 180)"></div>
                        <br>
                        <time class="updated-date" :datetime="activity.updated_at">
                          Updated -
                          {{activity.formatted_start_date}}
                        </time>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="column is-8" v-if="isNotFound()">
                  <div class="devsite-article">
                    <h1 class="devsite-page-title">
                      Search results for
                      <span class="devsite-search-term">
                        <span class="devsite-search-term">{{ query }}</span>
                      </span>
                    </h1>
                  </div>
                  <div class="result-snippet">No Results</div>
                </div>
              </div>
            </div>
            <!-- Sidebar -->
            <div class="column is-4 is-multiline">
              <div class="sidebar">
                <!-- popular posts -->
                <h1 class="title title-sidebar">Most Viewed Activities</h1>
                <hr>
                <div class="ho-event ho-event-mob-bot-sp">
                  <ul>
                    <li v-for="(activity, idx) in postsData.activities.mostViews" :key="idx">
                      <div @click="getDetail('activity', activity)" class="ho-ev-img">
                        <img :src="`${baseUrl}${activity.image}`" :alt="activity.image">
                      </div>
                      <div class="ho-ev-link">
                        <a @click="getDetail('activity', activity)">
                          <h4>{{activity.title}}</h4>
                        </a>
                        <p v-html="$utils.sub($utils.strip(activity.description), 100)"></p>
                        <p>
                          <span>by {{activity.author}}</span>
                          <span>{{activity.post_updated}}</span>
                        </p>
                      </div>
                    </li>
                  </ul>
                </div>
                <!-- popular posts -->
                <!-- Upcoming events -->
                <template v-if="postsData.news.comingEvents.length > 0">
                  <h1 class="title title-sidebar">Upcoming Events</h1>
                  <hr>
                  <div class="ho-event ho-event-mob-bot-sp">
                    <ul>
                      <li v-for="(event, idx) in postsData.activities.comingEvents" :key="idx">
                        <div class="ho-ev-date" v-html="getCalendarDate(event.start_date)"></div>
                        <div class="ho-ev-link large-width">
                          <a @click="getDetail('event', event)">
                            <h4>{{ event.title }}</h4>
                          </a>
                          <p v-html="$utils.sub($utils.strip(event.description), 100)"></p>
                          <p>
                            <span>{{ event.during_time }}</span>
                            <span>Location: {{ event.place }}</span>
                          </p>
                        </div>
                      </li>
                    </ul>
                  </div>
                </template>
                <!-- Upcoming events -->
              </div>
            </div>
          </div>
          <nav class="pagination" role="navigation" aria-label="pagination">
            <a
              :disabled="paginate.current_page===1"
              @click="prevPage(paginate.current_page - 1)"
              class="pagination-previous"
            >Previous</a>
            <a
              :disabled="paginate.current_page===paginate.last_page"
              @click="nextPage(paginate.current_page + 1)"
              class="pagination-next"
            >Next page</a>
          </nav>
        </div>
      </div>
    </section>
  </div>
</template>
<script>
import Base from "@com/Bases/GeneralBase.js";

export default Base.extend({
  data: () => ({
    type: "activities"
  }),
  created() {
    this.registerWatches();
    this.setPageTitle("Activities");
    this.getItems();
  }
});
</script>
<style scoped>
.search-box.search {
  position: relative;
  display: block;
  background: none;
}
.search input:focus {
  outline: none;
  box-shadow: 0 1rem 2rem rgba(0, 0, 0, 0.1);
  border: 1px solid #ffc600;
}
</style>

